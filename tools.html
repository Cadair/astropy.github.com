

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>astropy.tools documentation &mdash; Astropy 0.0.dev664 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.0.dev664',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/astropyicon.ico"/>
    <link rel="top" title="Astropy 0.0.dev664 documentation" href="index.html" />
    <link rel="next" title="astropy.utils documentation" href="utils/index.html" />
    <link rel="prev" title="astropy.io.vo.converters: Conversions between XML and Numpy datatypes" href="vo/api_converters.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="utils/index.html" title="astropy.utils documentation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="vo/api_converters.html" title="astropy.io.vo.converters: Conversions between XML and Numpy datatypes"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Astropy 0.0.dev664 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="astropy-tools-documentation">
<h1><tt class="xref py py-obj docutils literal"><span class="pre">astropy.tools</span></tt> documentation<a class="headerlink" href="#astropy-tools-documentation" title="Permalink to this headline">¶</a></h1>
<p>The <tt class="xref py py-obj docutils literal"><span class="pre">tools</span></tt> package holds general astronomy functions or algorithms
that are likely of use to users, but either not related to functionality in
an existing package or of general use across multiple packages.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For functions and classes that are more developer-oriented, the correct
package is <tt class="xref py py-obj docutils literal"><span class="pre">astropy.utils</span></tt>.  <tt class="xref py py-obj docutils literal"><span class="pre">astropy.tools</span></tt> is intended primarily for
functionality that is astronomy-specific and/or of use to users.</p>
</div>
<div class="section" id="reference-api">
<h2>Reference/API<a class="headerlink" href="#reference-api" title="Permalink to this headline">¶</a></h2>
<p>Below are the reference documentation for the tools sub-packages.  All public
functions and classes in these packages will be imported into the
<tt class="xref py py-obj docutils literal"><span class="pre">astropy.tools</span></tt> package, so the recommended usage is e.g.
<tt class="docutils literal"><span class="pre">from</span> <span class="pre">astropy.tools</span> <span class="pre">import</span> <span class="pre">sigma_clip</span></tt> or <tt class="docutils literal"><span class="pre">import</span> <span class="pre">astropy.tools</span></tt> instead of
<tt class="docutils literal"><span class="pre">from</span> <span class="pre">astropy.tools.misc</span> <span class="pre">import</span> <span class="pre">sigma_clip</span></tt> or similar.</p>
<div class="section" id="module-astropy.tools.misc">
<span id="astropy-tools-misc"></span><h3><a class="reference internal" href="#module-astropy.tools.misc" title="astropy.tools.misc"><tt class="xref py py-obj docutils literal"><span class="pre">astropy.tools.misc</span></tt></a><a class="headerlink" href="#module-astropy.tools.misc" title="Permalink to this headline">¶</a></h3>
<p>This module contains simple algorithmic functionality common in astronomy or
used in multiple places throughout Astropy, but are not complex enough to
necessarily warrant their own module.</p>
<p>This package should generally not be used directly.  Everything in <tt class="xref py py-obj docutils literal"><span class="pre">__all__</span></tt> is
imported into <tt class="xref py py-obj docutils literal"><span class="pre">astropy.tools</span></tt>, and hence that package should be used for
access.</p>
<dl class="function">
<dt id="astropy.tools.misc.sigma_clip">
<tt class="descclassname">astropy.tools.misc.</tt><tt class="descname">sigma_clip</tt><big>(</big><em>data</em>, <em>sig=3</em>, <em>iters=1</em>, <em>cenfunc=&lt;function median at 0x14ec4f0&gt;</em>, <em>varfunc=&lt;function var at 0x1525330&gt;</em>, <em>maout=False</em><big>)</big><a class="reference internal" href="_modules/astropy/tools/misc.html#sigma_clip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#astropy.tools.misc.sigma_clip" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform sigma-clipping on the provided data.</p>
<p>This performs the sigma clipping algorithm - i.e. the data will be iterated
over, each time rejecting points that are more than a specified number of
standard deviations discrepant.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>data</strong> : array-like</p>
<blockquote>
<div><p>The data to be sigma-clipped (any shape).</p>
</div></blockquote>
<p><strong>sig</strong> : float</p>
<blockquote>
<div><p>The number of standard deviations (<em>not</em> variances) to use as the
clipping limit.</p>
</div></blockquote>
<p><strong>iters</strong> : int or None</p>
<blockquote>
<div><p>The number of iterations to perform clipping for, or None to clip until
convergence is achieved (i.e. continue until the last iteration clips
nothing).</p>
</div></blockquote>
<p><strong>cenfunc</strong> : callable</p>
<blockquote>
<div><p>The technique to compute the center for the clipping. Must be a
callable that takes in a 1D data array and outputs the central value.
Defaults to the median.</p>
</div></blockquote>
<p><strong>varfunc</strong> : callable</p>
<blockquote>
<div><p>The technique to compute the variance about the center. Must be a
callable that takes in a 1D data array and outputs the width estimator
that will be interpreted as a variance. Defaults to the variance.</p>
</div></blockquote>
<p><strong>maout</strong> : bool or &#8216;copy&#8217;</p>
<blockquote>
<div><p>If True, a masked array will be returned. If the special string
&#8216;inplace&#8217;, the masked array will contain the same array as <tt class="xref py py-obj docutils literal"><span class="pre">data</span></tt>,
otherwise the array data will be copied.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>filtereddata</strong> : <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.0.dev-55472ca)"><tt class="xref py py-obj docutils literal"><span class="pre">numpy.ndarray</span></tt></a> or <tt class="xref py py-obj docutils literal"><span class="pre">numpy.masked.MaskedArray</span></tt></p>
<blockquote>
<div><p>If <tt class="xref py py-obj docutils literal"><span class="pre">maout</span></tt> is True, this is a masked array with a shape matching the
input that is masked where the algorithm has rejected those values.
Otherwise, a 1D array of values including only those that are not
clipped.</p>
</div></blockquote>
<p><strong>mask</strong> : boolean array</p>
<blockquote class="last">
<div><p>Only present if <tt class="xref py py-obj docutils literal"><span class="pre">maout</span></tt> is False. A boolean array with a shape matching
the input <tt class="xref py py-obj docutils literal"><span class="pre">data</span></tt> that is False for rejected values and True for all
others.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>This will generate random variates from a Gaussian distribution and return
only the points that are within 2 <em>sample</em> standard deviation from the
median:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.tools.alg</span> <span class="kn">import</span> <span class="n">sigma_clip</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numpy.random</span> <span class="kn">import</span> <span class="n">randn</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">randvar</span> <span class="o">=</span> <span class="n">randn</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="p">,</span><span class="n">mask</span> <span class="o">=</span> <span class="n">sigma_clip</span><span class="p">(</span><span class="n">randvar</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>This will clipping on a similar distribution, but for 3 sigma relative to
the sample <em>mean</em>, will clip until converged, and produces a
<tt class="xref py py-obj docutils literal"><span class="pre">numpy.masked.MaskedArray</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.tools.alg</span> <span class="kn">import</span> <span class="n">sigma_clip</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numpy.random</span> <span class="kn">import</span> <span class="n">randn</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">mean</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">randvar</span> <span class="o">=</span> <span class="n">randn</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">maskedarr</span> <span class="o">=</span> <span class="n">sigma_clip</span><span class="p">(</span><span class="n">randvar</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="bp">None</span><span class="p">,</span><span class="n">mean</span><span class="p">,</span><span class="n">maout</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/astropylogo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><tt class="docutils literal"><span class="pre">astropy.tools</span></tt> documentation</a><ul>
<li><a class="reference internal" href="#reference-api">Reference/API</a><ul>
<li><a class="reference internal" href="#module-astropy.tools.misc"><tt class="docutils literal"><span class="pre">astropy.tools.misc</span></tt></a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="vo/api_converters.html"
                        title="previous chapter"><tt class="docutils literal"><span class="pre">astropy.io.vo.converters</span></tt>: Conversions between XML and Numpy datatypes</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="utils/index.html"
                        title="next chapter"><tt class="docutils literal"><span class="pre">astropy.utils</span></tt> documentation</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/tools.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="utils/index.html" title="astropy.utils documentation"
             >next</a> |</li>
        <li class="right" >
          <a href="vo/api_converters.html" title="astropy.io.vo.converters: Conversions between XML and Numpy datatypes"
             >previous</a> |</li>
        <li><a href="index.html">Astropy 0.0.dev664 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, The Astropy Team, Erik Tollerud, Thomas Robitaille, and Perry Greenfield.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>