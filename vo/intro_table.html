

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Introduction to astropy.io.vo.table &mdash; Astropy 0.0.dev664 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0.dev664',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/astropyicon.ico"/>
    <link rel="top" title="Astropy 0.0.dev664 documentation" href="../index.html" />
    <link rel="up" title="astropy.io.vo Documentation" href="index.html" />
    <link rel="next" title="API documentation" href="api.html" />
    <link rel="prev" title="astropy.io.vo Documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="api.html" title="API documentation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="astropy.io.vo Documentation"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Astropy 0.0.dev664 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">astropy.io.vo Documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="introduction-to-astropy-io-vo-table">
<h1>Introduction to <tt class="docutils literal"><span class="pre">astropy.io.vo.table</span></tt><a class="headerlink" href="#introduction-to-astropy-io-vo-table" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="api_table.html#module-astropy.io.vo.table" title="astropy.io.vo.table"><tt class="xref py py-obj docutils literal"><span class="pre">astropy.io.vo.table</span></tt></a> is a Python package to read and write VOTable
files into Numpy record arrays.</p>
<div class="section" id="standard-compliance">
<h2>Standard compliance<a class="headerlink" href="#standard-compliance" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="api_table.html#module-astropy.io.vo.table" title="astropy.io.vo.table"><tt class="xref py py-obj docutils literal"><span class="pre">astropy.io.vo.table</span></tt></a> supports the <a class="reference external" href="http://www.ivoa.net/Documents/REC/VOTable/VOTable-20040811.html">VOTable Format Definition Version
1.1</a>
and <a class="reference external" href="http://www.ivoa.net/Documents/VOTable/20091130/REC-VOTable-1.2.html">Version 1.2</a>.
Some flexibility is provided to support the 1.0 draft version and
other non-standard usage in the wild.  To support these cases, set the
keyword argument <tt class="docutils literal"><span class="pre">pedantic</span></tt> to <tt class="docutils literal"><span class="pre">False</span></tt> when parsing.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Each warning and VOTABLE-specific exception emitted has a number and
is documented in more detail in <a class="reference internal" href="api_exceptions.html#warnings"><em>Warnings</em></a> and
<a class="reference internal" href="api_exceptions.html#exceptions"><em>Exceptions</em></a>.</p>
</div>
<p>Output always conforms to the 1.1 or 1.2 spec, depending on the input.</p>
</div>
<div class="section" id="using-astropy-io-vo-table">
<h2>Using <a class="reference internal" href="api_table.html#module-astropy.io.vo.table" title="astropy.io.vo.table"><tt class="xref py py-obj docutils literal"><span class="pre">astropy.io.vo.table</span></tt></a><a class="headerlink" href="#using-astropy-io-vo-table" title="Permalink to this headline">¶</a></h2>
<div class="section" id="reading-a-votable-file">
<h3>Reading a VOTable file<a class="headerlink" href="#reading-a-votable-file" title="Permalink to this headline">¶</a></h3>
<p>To read in a VOTable file, pass a file path to
<a class="reference internal" href="api_table.html#astropy.io.vo.table.parse" title="astropy.io.vo.table.parse"><tt class="xref py py-obj docutils literal"><span class="pre">astropy.io.vo.table.parse</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">astropy.io.vo.table</span> <span class="kn">import</span> <span class="n">parse</span>
<span class="n">votable</span> <span class="o">=</span> <span class="n">parse</span><span class="p">(</span><span class="s">&quot;votable.xml&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">votable</span></tt> is a <a class="reference internal" href="api_tree.html#astropy.io.vo.tree.VOTableFile" title="astropy.io.vo.tree.VOTableFile"><tt class="xref py py-obj docutils literal"><span class="pre">VOTableFile</span></tt></a> object, which can
be used to retrieve and manipulate the data and save it back out to
disk.</p>
<p>VOTable files are made up of nested <tt class="docutils literal"><span class="pre">RESOURCE</span></tt> elements, each of
which may contain one or more <tt class="docutils literal"><span class="pre">TABLE</span></tt> elements.  The <tt class="docutils literal"><span class="pre">TABLE</span></tt>
elements contain the arrays of data.</p>
<p>To get at the <tt class="docutils literal"><span class="pre">TABLE</span></tt> elements, one can write a loop over the
resources in the <tt class="docutils literal"><span class="pre">VOTABLE</span></tt> file:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">resource</span> <span class="ow">in</span> <span class="n">votable</span><span class="o">.</span><span class="n">resources</span><span class="p">:</span>
  <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">resource</span><span class="o">.</span><span class="n">tables</span><span class="p">:</span>
    <span class="c"># ... do something with the table ...</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>However, if the nested structure of the resources is not important,
one can use <tt class="xref py py-obj docutils literal"><span class="pre">iter_tables</span></tt> to return a flat
list of all tables:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">votable</span><span class="o">.</span><span class="n">iter_tables</span><span class="p">():</span>
  <span class="c"># ... do something with the table ...</span>
  <span class="k">pass</span>
</pre></div>
</div>
<p>Finally, if there is expected to be only one table in the file, it
might be simplest to just use
<tt class="xref py py-obj docutils literal"><span class="pre">get_first_table</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">table</span> <span class="o">=</span> <span class="n">votable</span><span class="o">.</span><span class="n">get_first_table</span><span class="p">()</span>
</pre></div>
</div>
<p>Even easier, there is a convenience method to parse a VOTable file and
return the first table all in one step:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">astropy.io.vo.table</span> <span class="kn">import</span> <span class="n">parse_single_table</span>
<span class="n">table</span> <span class="o">=</span> <span class="n">parse_single_table</span><span class="p">(</span><span class="s">&quot;votable.xml&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>From a <a class="reference internal" href="api_tree.html#astropy.io.vo.tree.Table" title="astropy.io.vo.tree.Table"><tt class="xref py py-obj docutils literal"><span class="pre">Table</span></tt></a> object, one can get the data itself
in the <tt class="docutils literal"><span class="pre">array</span></tt> member variable:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">data</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">array</span>
</pre></div>
</div>
<p>This data is a Numpy record array.  The columns get their names from
both the <tt class="docutils literal"><span class="pre">ID</span></tt> and <tt class="docutils literal"><span class="pre">name</span></tt> attributes of the <tt class="docutils literal"><span class="pre">FIELD</span></tt> elements in
the <tt class="docutils literal"><span class="pre">VOTABLE</span></tt> file.  For example, suppose we had a <tt class="docutils literal"><span class="pre">FIELD</span></tt>
specified as follows:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;FIELD</span> <span class="na">ID=</span><span class="s">&quot;Dec&quot;</span> <span class="na">name=</span><span class="s">&quot;dec_targ&quot;</span> <span class="na">datatype=</span><span class="s">&quot;char&quot;</span> <span class="na">ucd=</span><span class="s">&quot;POS_EQ_DEC_MAIN&quot;</span>
       <span class="na">unit=</span><span class="s">&quot;deg&quot;</span><span class="nt">&gt;</span>
 <span class="nt">&lt;DESCRIPTION&gt;</span>
  representing the ICRS declination of the center of the image.
 <span class="nt">&lt;/DESCRIPTION&gt;</span>
<span class="nt">&lt;/FIELD&gt;</span>
</pre></div>
</div>
<p>This column of data can be extracted from the record array using:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">array</span><span class="p">[</span><span class="s">&#39;dec_targ&#39;</span><span class="p">]</span>
<span class="go">array([17.15153360566, 17.15153360566, 17.15153360566, 17.1516686826,</span>
<span class="go">       17.1516686826, 17.1516686826, 17.1536197136, 17.1536197136,</span>
<span class="go">       17.1536197136, 17.15375479055, 17.15375479055, 17.15375479055,</span>
<span class="go">       17.1553884541, 17.15539736932, 17.15539752176,</span>
<span class="go">       17.25736014763,</span>
<span class="go">       # ...</span>
<span class="go">       17.2765703], dtype=object)</span>
</pre></div>
</div>
<p>or equivalently:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">array</span><span class="p">[</span><span class="s">&#39;Dec&#39;</span><span class="p">]</span>
<span class="go">array([17.15153360566, 17.15153360566, 17.15153360566, 17.1516686826,</span>
<span class="go">       17.1516686826, 17.1516686826, 17.1536197136, 17.1536197136,</span>
<span class="go">       17.1536197136, 17.15375479055, 17.15375479055, 17.15375479055,</span>
<span class="go">       17.1553884541, 17.15539736932, 17.15539752176,</span>
<span class="go">       17.25736014763,</span>
<span class="go">       # ...</span>
<span class="go">       17.2765703], dtype=object)</span>
</pre></div>
</div>
<div class="section" id="pedantic-mode">
<span id="id1"></span><h4>Pedantic mode<a class="headerlink" href="#pedantic-mode" title="Permalink to this headline">¶</a></h4>
<p>Many VOTABLE files in the wild do not conform to the VOTABLE
specification.  If reading one of these files causes exceptions, you
may turn off pedantic mode in <tt class="xref py py-obj docutils literal"><span class="pre">astropy.io.vo</span></tt> by passing
<tt class="docutils literal"><span class="pre">pedantic=False</span></tt> to the <a class="reference internal" href="api_table.html#astropy.io.vo.table.parse" title="astropy.io.vo.table.parse"><tt class="xref py py-obj docutils literal"><span class="pre">parse</span></tt></a> or
<a class="reference internal" href="api_table.html#astropy.io.vo.table.parse_single_table" title="astropy.io.vo.table.parse_single_table"><tt class="xref py py-obj docutils literal"><span class="pre">parse_single_table</span></tt></a> functions:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">astropy.io.vo.table</span> <span class="kn">import</span> <span class="n">parse</span>
<span class="n">votable</span> <span class="o">=</span> <span class="n">parse</span><span class="p">(</span><span class="s">&quot;votable.xml&quot;</span><span class="p">,</span> <span class="n">pedantic</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Note, however, that it is good practice to report these errors to the
author of the application that generated the VOTABLE file to bring the
file into compliance with the specification.</p>
<p>Even with <tt class="docutils literal"><span class="pre">pedantic</span></tt> turned off, many warnings may still be omitted.
These warnings are all of the type
<a class="reference internal" href="api_exceptions.html#astropy.io.vo.exceptions.VOTableSpecWarning" title="astropy.io.vo.exceptions.VOTableSpecWarning"><tt class="xref py py-obj docutils literal"><span class="pre">VOTableSpecWarning</span></tt></a> and can be turned off
using the standard Python <a class="reference external" href="http://docs.python.org/library/warnings.html#module-warnings" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">warnings</span></tt></a> module.</p>
</div>
</div>
<div class="section" id="building-a-new-table-from-scratch">
<h3>Building a new table from scratch<a class="headerlink" href="#building-a-new-table-from-scratch" title="Permalink to this headline">¶</a></h3>
<p>It is also possible to build a new table, define some field datatypes
and populate it with data:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">astropy.io.vo.tree</span> <span class="kn">import</span> <span class="n">VOTableFile</span><span class="p">,</span> <span class="n">Resource</span><span class="p">,</span> <span class="n">Table</span><span class="p">,</span> <span class="n">Field</span>

<span class="c"># Create a new VOTable file...</span>
<span class="n">votable</span> <span class="o">=</span> <span class="n">VOTableFile</span><span class="p">()</span>

<span class="c"># ...with one resource...</span>
<span class="n">resource</span> <span class="o">=</span> <span class="n">Resource</span><span class="p">()</span>
<span class="n">votable</span><span class="o">.</span><span class="n">resources</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">resource</span><span class="p">)</span>

<span class="c"># ... with one table</span>
<span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">votable</span><span class="p">)</span>
<span class="n">resource</span><span class="o">.</span><span class="n">tables</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>

<span class="c"># Define some fields</span>
<span class="n">table</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
        <span class="n">Field</span><span class="p">(</span><span class="n">votable</span><span class="p">,</span> <span class="n">ID</span><span class="o">=</span><span class="s">&quot;filename&quot;</span><span class="p">,</span> <span class="n">datatype</span><span class="o">=</span><span class="s">&quot;char&quot;</span><span class="p">),</span>
        <span class="n">Field</span><span class="p">(</span><span class="n">votable</span><span class="p">,</span> <span class="n">ID</span><span class="o">=</span><span class="s">&quot;matrix&quot;</span><span class="p">,</span> <span class="n">datatype</span><span class="o">=</span><span class="s">&quot;double&quot;</span><span class="p">,</span> <span class="n">arraysize</span><span class="o">=</span><span class="s">&quot;2x2&quot;</span><span class="p">)])</span>

<span class="c"># Now, use those field definitions to create the numpy record arrays, with</span>
<span class="c"># the given number of rows</span>
<span class="n">table</span><span class="o">.</span><span class="n">create_arrays</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c"># Now table.array can be filled with data</span>
<span class="n">table</span><span class="o">.</span><span class="n">array</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;test1.xml&#39;</span><span class="p">,</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="n">table</span><span class="o">.</span><span class="n">array</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;test2.xml&#39;</span><span class="p">,</span> <span class="p">[[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">]])</span>

<span class="c"># Now write the whole thing to a file.</span>
<span class="c"># Note, we have to use the top-level votable file object</span>
<span class="n">votable</span><span class="o">.</span><span class="n">to_xml</span><span class="p">(</span><span class="s">&quot;new_votable.xml&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="missing-values">
<h3>Missing values<a class="headerlink" href="#missing-values" title="Permalink to this headline">¶</a></h3>
<p>Any value in the table may be &#8220;missing&#8221;.  <a class="reference internal" href="api_table.html#module-astropy.io.vo.table" title="astropy.io.vo.table"><tt class="xref py py-obj docutils literal"><span class="pre">astropy.io.vo.table</span></tt></a> stores
a parallel array in each <a class="reference internal" href="api_tree.html#astropy.io.vo.tree.Table" title="astropy.io.vo.tree.Table"><tt class="xref py py-obj docutils literal"><span class="pre">Table</span></tt></a> instance called
<tt class="xref py py-obj docutils literal"><span class="pre">mask</span></tt> to keep track of missing values.
This array is <tt class="docutils literal"><span class="pre">False</span></tt> anywhere the value is missing.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the future, the <tt class="docutils literal"><span class="pre">array</span></tt> and <tt class="docutils literal"><span class="pre">mask</span></tt> members will likely be
combined into a single masked record array.  There are
implementation bugs in current versions of Numpy that prevent this
at the moment.</p>
</div>
</div>
<div class="section" id="datatype-mappings">
<h3>Datatype mappings<a class="headerlink" href="#datatype-mappings" title="Permalink to this headline">¶</a></h3>
<p>The datatype specified by a <tt class="docutils literal"><span class="pre">FIELD</span></tt> element is mapped to a Numpy
type according to the following table:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="31%" />
<col width="69%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">VOTABLE type</th>
<th class="head">Numpy type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>boolean</td>
<td>b1</td>
</tr>
<tr class="row-odd"><td>bit</td>
<td>b1</td>
</tr>
<tr class="row-even"><td>unsignedByte</td>
<td>u1</td>
</tr>
<tr class="row-odd"><td>char (<em>variable length</em>)</td>
<td>O - In Python 2.x, a <a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">str</span></tt></a> object; in 3.x, a <tt class="xref py py-obj docutils literal"><span class="pre">bytes</span></tt> object.</td>
</tr>
<tr class="row-even"><td>char (<em>fixed length</em>)</td>
<td>S</td>
</tr>
<tr class="row-odd"><td>unicodeChar (<em>variable length</em>)</td>
<td>O - In Python 2.x, a <a class="reference external" href="http://docs.python.org/library/functions.html#unicode" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">unicode</span></tt></a> object, in utf-16; in 3.x a <a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">str</span></tt></a> object</td>
</tr>
<tr class="row-even"><td>unicodeChar (<em>fixed length</em>)</td>
<td>U</td>
</tr>
<tr class="row-odd"><td>short</td>
<td>i2</td>
</tr>
<tr class="row-even"><td>int</td>
<td>i4</td>
</tr>
<tr class="row-odd"><td>long</td>
<td>i8</td>
</tr>
<tr class="row-even"><td>float</td>
<td>f4</td>
</tr>
<tr class="row-odd"><td>double</td>
<td>f8</td>
</tr>
<tr class="row-even"><td>floatComplex</td>
<td>c8</td>
</tr>
<tr class="row-odd"><td>doubleComplex</td>
<td>c16</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>If the field is a fixed size array, the data is stored as a Numpy
fixed-size array.</p>
<p>If the field is a variable size array (that is <tt class="docutils literal"><span class="pre">arraysize</span></tt> contains
a &#8216;*&#8217;), the cell will contain a Python list of Numpy values.  Each
value may be either an array or scalar depending on the <tt class="docutils literal"><span class="pre">arraysize</span></tt>
specifier.</p>
</div>
<div class="section" id="examining-field-types">
<h3>Examining field types<a class="headerlink" href="#examining-field-types" title="Permalink to this headline">¶</a></h3>
<p>To look up more information about a field in a table, one can use the
<tt class="xref py py-obj docutils literal"><span class="pre">get_field_or_param_by_id</span></tt> method, which
returns the <a class="reference internal" href="api_tree.html#astropy.io.vo.tree.Field" title="astropy.io.vo.tree.Field"><tt class="xref py py-obj docutils literal"><span class="pre">Field</span></tt></a> object with the given ID.  For
example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">field</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">get_field_or_param_by_id</span><span class="p">(</span><span class="s">&#39;Dec&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">field</span><span class="o">.</span><span class="n">datatype</span>
<span class="go">&#39;char&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">field</span><span class="o">.</span><span class="n">unit</span>
<span class="go">&#39;deg&#39;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Field descriptors should not be mutated &#8211; they will have no effect
on the record arrays storing the data.  This shortcoming will be
addressed in a future version of <tt class="xref py py-obj docutils literal"><span class="pre">astropy.io.vo</span></tt>.</p>
</div>
</div>
<div class="section" id="outputting-a-votable-file">
<h3>Outputting a VOTable file<a class="headerlink" href="#outputting-a-votable-file" title="Permalink to this headline">¶</a></h3>
<p>To save a VOTable file, simply call the
<a class="reference internal" href="api_tree.html#astropy.io.vo.tree.VOTableFile.to_xml" title="astropy.io.vo.tree.VOTableFile.to_xml"><tt class="xref py py-obj docutils literal"><span class="pre">to_xml</span></tt></a> method.  It accepts either a
string or unicode path, or a Python file-like object:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">votable</span><span class="o">.</span><span class="n">to_xml</span><span class="p">(</span><span class="s">&#39;output.xml&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>There are currently two data storage formats supported by
<tt class="xref py py-obj docutils literal"><span class="pre">astropy.io.vo</span></tt>.  The <tt class="docutils literal"><span class="pre">TABLEDATA</span></tt> format is XML-based and stores
values as strings representing numbers.  The <tt class="docutils literal"><span class="pre">BINARY</span></tt> format is more
compact, and stores numbers in base64-encoded binary.  The storage
format can be set on a per-table basis using the
<a class="reference internal" href="api_tree.html#astropy.io.vo.tree.Table.format" title="astropy.io.vo.tree.Table.format"><tt class="xref py py-obj docutils literal"><span class="pre">format</span></tt></a> attribute, or globally using the
<a class="reference internal" href="api_tree.html#astropy.io.vo.tree.VOTableFile.set_all_tables_format" title="astropy.io.vo.tree.VOTableFile.set_all_tables_format"><tt class="xref py py-obj docutils literal"><span class="pre">set_all_tables_format</span></tt></a> method:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">votable</span><span class="o">.</span><span class="n">get_first_table</span><span class="p">()</span><span class="o">.</span><span class="n">format</span> <span class="o">=</span> <span class="s">&#39;binary&#39;</span>
<span class="n">votable</span><span class="o">.</span><span class="n">set_all_tables_format</span><span class="p">(</span><span class="s">&#39;binary&#39;</span><span class="p">)</span>
<span class="n">votable</span><span class="o">.</span><span class="n">to_xml</span><span class="p">(</span><span class="s">&#39;binary.xml&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="performance-considerations">
<h2>Performance considerations<a class="headerlink" href="#performance-considerations" title="Permalink to this headline">¶</a></h2>
<p>File reads will be moderately faster if the <tt class="docutils literal"><span class="pre">TABLE</span></tt> element includes
an <a class="reference external" href="http://www.ivoa.net/Documents/REC/VOTable/VOTable-20040811.html#ToC10">nrows</a> attribute.  If the number of rows is not specified, the
record array must be resized repeatedly during load.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/astropylogo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Introduction to <tt class="docutils literal"><span class="pre">astropy.io.vo.table</span></tt></a><ul>
<li><a class="reference internal" href="#standard-compliance">Standard compliance</a></li>
<li><a class="reference internal" href="#using-astropy-io-vo-table">Using <tt class="docutils literal"><span class="pre">astropy.io.vo.table</span></tt></a><ul>
<li><a class="reference internal" href="#reading-a-votable-file">Reading a VOTable file</a><ul>
<li><a class="reference internal" href="#pedantic-mode">Pedantic mode</a></li>
</ul>
</li>
<li><a class="reference internal" href="#building-a-new-table-from-scratch">Building a new table from scratch</a></li>
<li><a class="reference internal" href="#missing-values">Missing values</a></li>
<li><a class="reference internal" href="#datatype-mappings">Datatype mappings</a></li>
<li><a class="reference internal" href="#examining-field-types">Examining field types</a></li>
<li><a class="reference internal" href="#outputting-a-votable-file">Outputting a VOTable file</a></li>
</ul>
</li>
<li><a class="reference internal" href="#performance-considerations">Performance considerations</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">astropy.io.vo Documentation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="api.html"
                        title="next chapter">API documentation</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/vo/intro_table.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="api.html" title="API documentation"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="astropy.io.vo Documentation"
             >previous</a> |</li>
        <li><a href="../index.html">Astropy 0.0.dev664 documentation</a> &raquo;</li>
          <li><a href="index.html" >astropy.io.vo Documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, The Astropy Team, Erik Tollerud, Thomas Robitaille, and Perry Greenfield.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>