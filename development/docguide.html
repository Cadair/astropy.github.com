

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Documentation Guidelines (Draft) &mdash; Astropy 0.0.dev664 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0.dev664',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/astropyicon.ico"/>
    <link rel="top" title="Astropy 0.0.dev664 documentation" href="../index.html" />
    <link rel="up" title="Documentation for Developers" href="index.html" />
    <link rel="next" title="Testing Guidelines (Draft)" href="testguide.html" />
    <link rel="prev" title="Emacs setup for following coding guidelines" href="codeguide_emacs.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="testguide.html" title="Testing Guidelines (Draft)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="codeguide_emacs.html" title="Emacs setup for following coding guidelines"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Astropy 0.0.dev664 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Documentation for Developers</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="documentation-guidelines-draft">
<h1>Documentation Guidelines (Draft)<a class="headerlink" href="#documentation-guidelines-draft" title="Permalink to this headline">¶</a></h1>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This document is currently in Draft form and is subject to change.</p>
</div>
<p>TODO: Detailed information about building the documentation should be
added here.</p>
<div class="section" id="astropy-documentation-rules-and-recommendations">
<h2>Astropy Documentation Rules and Recommendations<a class="headerlink" href="#astropy-documentation-rules-and-recommendations" title="Permalink to this headline">¶</a></h2>
<p>This section describes the standards for documentation format affiliated
packages that must follow for consideration of integration into the core
module, as well as the standard Astropy docstring format.</p>
<ul class="simple">
<li>Documentation shall use the Sphinx documentation tool.</li>
<li>The template package will provide a recommended general structure for
documentation.</li>
<li>Docstrings must be provided for all public classes, methods, and functions.</li>
<li>Docstrings will be incorporated into the documentation using a version of
numpydoc included with Astropy, and should follow the <a class="reference external" href="http://numpy.scipy.org/">NumPy</a>/<a class="reference external" href="http://www.scipy.org">SciPy</a>
docstring standards, included below.</li>
<li>Examples and/or tutorials are strongly encouraged for typical use-cases of a
particular module or class.</li>
<li>Any external package dependencies aside from <a class="reference external" href="http://numpy.scipy.org/">NumPy</a>, <a class="reference external" href="http://www.scipy.org">SciPy</a>, or <a class="reference external" href="http://matplotlib.sourceforge.net/">Matplotlib</a>
must be explicitly mentioned in the documentation.</li>
<li>Configuration options using the <tt class="xref py py-mod docutils literal"><span class="pre">astropy.config</span></tt> mechanisms must be
explicitly mentioned in the documentation.</li>
</ul>
</div>
<div class="section" id="numpy-scipy-docstring-rules">
<h2>NumPy/SciPy Docstring Rules<a class="headerlink" href="#numpy-scipy-docstring-rules" title="Permalink to this headline">¶</a></h2>
<p>The original source for these docstring standards is the <a class="reference external" href="http://numpy.scipy.org/">NumPy</a> project, and
the associated <a class="reference external" href="http://pypi.python.org/pypi/numpydoc/0.3.1">numpydoc</a> tools. The most up-to-date version of these standards
can be found at <a class="reference external" href="http://github.com/numpy/numpy/blob/master/doc/HOWTO_DOCUMENT.rst.txt">numpy&#8217;s github site</a>. The
guidelines below have been adapted to the Astropy pacakge.</p>
<div class="section" id="overview">
<h3>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h3>
<p>In general, we follow the standard Python style conventions as described here:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="http://www.python.org/peps/pep-0007.html">Style Guide for C Code</a></li>
<li><a class="reference external" href="http://www.python.org/peps/pep-0008.html">Style Guide for Python Code</a></li>
<li><a class="reference external" href="http://www.python.org/peps/pep-0257.html">Docstring Conventions</a></li>
</ul>
</div></blockquote>
<p>Additional PEPs of interest regarding documentation of code:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="http://www.python.org/peps/pep-0256.html">Docstring Processing Framework</a></li>
<li><a class="reference external" href="http://www.python.org/peps/pep-0258.html">Docutils Design Specification</a></li>
</ul>
</div></blockquote>
<p>Use a code checker:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="http://www.logilab.org/857">pylint</a></li>
<li><a class="reference external" href="http://pypi.python.org/pypi/pyflakes">pyflakes</a></li>
<li><a class="reference external" href="https://github.com/jcrocholl/pep8">pep8.py</a></li>
</ul>
</div></blockquote>
<p>The following import conventions are used throughout the Astropy source
and documentation:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib</span> <span class="kn">as</span> <span class="nn">mpl</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
</pre></div>
</div>
<p>Do not abbreviate <tt class="docutils literal"><span class="pre">scipy</span></tt>. There is no motivating use case to abbreviate
it in the real world, so we avoid it in the documentation to avoid
confusion.</p>
<p>It is not necessary to do <tt class="docutils literal"><span class="pre">import</span> <span class="pre">numpy</span> <span class="pre">as</span> <span class="pre">np</span></tt> at the beginning of
an example.  However, some sub-modules, such as <tt class="docutils literal"><span class="pre">fft</span></tt>, are not
imported by default, and you have to include them explicitly:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy.fft</span>
</pre></div>
</div>
<p>after which you may use it:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">np</span><span class="o">.</span><span class="n">fft</span><span class="o">.</span><span class="n">fft2</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="docstring-standard">
<h3>Docstring Standard<a class="headerlink" href="#docstring-standard" title="Permalink to this headline">¶</a></h3>
<p>A documentation string (docstring) is a string that describes a module,
function, class, or method definition. The docstring is a special attribute
of the object (<tt class="docutils literal"><span class="pre">object.__doc__</span></tt>) and, for consistency, is surrounded by
triple double quotes, i.e.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="sd">&quot;&quot;&quot;This is the form of a docstring.</span>

<span class="sd">It can be spread over several lines.</span>

<span class="sd">&quot;&quot;&quot;</span>
</pre></div>
</div>
<p><a class="reference external" href="http://numpy.scipy.org/">NumPy</a> and <a class="reference external" href="http://www.scipy.org">SciPy</a> have defined a common convention for docstrings that
provides for consistency, while also allowing our toolchain to produce
well-formatted reference guides. This format should be used for Astropy
docstrings.</p>
<p>This docstring standard uses <a class="reference external" href="http://docutils.sourceforge.net/rst.html">re-structured text (reST)</a> syntax and is rendered
using <a class="reference external" href="http://sphinx.pocoo.org">Sphinx</a> (a pre-processor that understands the particular
documentation style we are using). While a rich set of markup is
available, we limit ourselves to a very basic subset, in order to
provide docstrings that are easy to read on text-only terminals.</p>
<p>A guiding principle is that human readers of the text are given
precedence over contorting docstrings so our tools produce nice output.
Rather than sacrificing the readability of the docstrings, we have
written pre-processors to assist <a class="reference external" href="http://sphinx.pocoo.org">Sphinx</a> in its task.</p>
<p>The length of docstring lines should be kept to 75 characters to
facilitate reading the docstrings in text terminals.</p>
</div>
<div class="section" id="sections">
<h3>Sections<a class="headerlink" href="#sections" title="Permalink to this headline">¶</a></h3>
<p>The sections of the docstring are:</p>
<ol class="arabic">
<li><p class="first"><strong>Short summary</strong></p>
<p>A one-line summary that does not use variable names or the function
name, e.g.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;The sum of two numbers.</span>

<span class="sd">   &quot;&quot;&quot;</span>
</pre></div>
</div>
<p>The function signature is normally found by introspection and
displayed by the help function. For some functions (notably those
written in C) the signature is not available, so we have to specify
it as the first line of the docstring:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">add(a, b)</span>

<span class="sd">The sum of two numbers.</span>

<span class="sd">&quot;&quot;&quot;</span>
</pre></div>
</div>
</li>
<li><p class="first"><strong>Deprecation warning</strong></p>
<p>A section (use if applicable) to warn users that the object is deprecated.
Section contents should include:</p>
<ul class="simple">
<li>In what Astropy version the object was deprecated, and when it will
be removed.</li>
<li>Reason for deprecation if this is useful information (e.g., object
is superseded, duplicates functionality found elsewhere, etc.).</li>
<li>New recommended way of obtaining the same functionality.</li>
</ul>
<p>This section should use the note Sphinx directive instead of an
underlined section header.</p>
<div class="highlight-python"><pre>.. note:: Deprecated in Astropy 1.2
          `ndobj_old` will be removed in Astropy 2.0, it is replaced by
          `ndobj_new` because the latter works also with array subclasses.</pre>
</div>
</li>
<li><p class="first"><strong>Extended summary</strong></p>
<p>A few sentences giving an extended description. This section should be used
to clarify <em>functionality</em>, not to discuss implementation detail or
background theory, which should rather be explored in the <strong>notes</strong> section
below. You may refer to the parameters and the function name, but parameter
descriptions still belong in the <strong>parameters</strong> section.</p>
</li>
<li><p class="first"><strong>Parameters</strong></p>
<p>Description of the function arguments, keywords and their respective types.</p>
<div class="highlight-python"><pre>Parameters
----------
x : type
   Description of parameter `x`.</pre>
</div>
<p>Enclose variables in single backticks.</p>
<p>For the parameter types, be as precise as possible. Below are a few
examples of parameters and their types.</p>
<div class="highlight-python"><pre>Parameters
----------
filename : str
copy : bool
dtype : data-type
iterable : iterable object
shape : int or tuple of int
files : list of str</pre>
</div>
<p>If it is not necessary to specify a keyword argument, use <tt class="docutils literal"><span class="pre">optional</span></tt>:</p>
<div class="highlight-python"><pre>x : int, optional</pre>
</div>
<p>Optional keyword parameters have default values, which are displayed as
part of the function signature. They can also be detailed in the
description:</p>
<div class="highlight-python"><pre>Description of parameter `x` (the default is -1, which implies summation
over all axes).</pre>
</div>
<p>When a parameter can only assume one of a fixed set of values, those values
can be listed in braces:</p>
<div class="highlight-python"><pre>order : {'C', 'F', 'A'}
    Description of `order`.</pre>
</div>
<p>When two or more input parameters have exactly the same type, shape and
description, they can be combined:</p>
<div class="highlight-python"><pre>x1, x2 : array_like
    Input arrays, description of `x1`, `x2`.</pre>
</div>
</li>
<li><p class="first"><strong>Returns</strong></p>
<p>Explanation of the returned values and their types, of the same format as
<strong>parameters</strong>.</p>
</li>
<li><p class="first"><strong>Other parameters</strong></p>
<p>An optional section used to describe infrequently used parameters. It
should only be used if a function has a large number of keyword parameters,
to prevent cluttering the <strong>parameters</strong> section.</p>
</li>
<li><p class="first"><strong>Raises</strong></p>
<p>An optional section detailing which errors get raised and under what
conditions:</p>
<div class="highlight-python"><pre>Raises
------
InvalidWCSException
    If the WCS information is invalid.</pre>
</div>
<p>This section should be used judiciously, i.e only for errors that are
non-obvious or have a large chance of getting raised.</p>
</li>
<li><p class="first"><strong>See Also</strong></p>
<p>An optional section used to refer to related code. This section can be very
useful, but should be used judiciously. The goal is to direct users to
other functions they may not be aware of, or have easy means of discovering
(by looking at the module docstring, for example). Routines whose
docstrings further explain parameters used by this function are good
candidates.</p>
<p>As an example, for a hypothetical function <tt class="docutils literal"><span class="pre">astropy.wcs.sky2pix</span></tt>
converting sky to pixel coordinates, we would have:</p>
<div class="highlight-python"><pre>See Also
--------
pix2sky : Convert pixel to sky coordinates</pre>
</div>
<p>When referring to functions in the same sub-module, no prefix is needed,
and the tree is searched upwards for a match.</p>
<p>Prefix functions from other sub-modules appropriately. E.g., whilst
documenting a hypothetical <tt class="docutils literal"><span class="pre">astropy.vo</span></tt> module, refer to a function in
<tt class="docutils literal"><span class="pre">table</span></tt> by</p>
<div class="highlight-python"><pre>table.read : Read in a VO table</pre>
</div>
<p>When referring to an entirely different module:</p>
<div class="highlight-python"><pre>astropy.coords : Coordinate handling routines</pre>
</div>
<p>Functions may be listed without descriptions, and this is preferable if the
functionality is clear from the function name:</p>
<div class="highlight-python"><pre>See Also
--------
func_a : Function a with its description.
func_b, func_c_, func_d
func_e</pre>
</div>
</li>
<li><p class="first"><strong>Notes</strong></p>
<p>An optional section that provides additional information about the code,
possibly including a discussion of the algorithm. This section may include
mathematical equations, written in <a class="reference external" href="http://www.latex-project.org/">LaTeX</a>
format:</p>
<div class="highlight-python"><pre>The FFT is a fast implementation of the discrete Fourier transform:

.. math:: X(e^{j\omega } ) = x(n)e^{ - j\omega n}</pre>
</div>
<p>Equations can also be typeset underneath the math directive:</p>
<div class="highlight-python"><pre>The discrete-time Fourier time-convolution property states that

.. math::

     x(n) * y(n) \Leftrightarrow X(e^{j\omega } )Y(e^{j\omega } )\\
     another equation here</pre>
</div>
<p>Math can furthermore be used inline, i.e.</p>
<div class="highlight-python"><pre>The value of :math:`\omega` is larger than 5.</pre>
</div>
<p>Variable names are displayed in typewriter font, obtained by using
<tt class="docutils literal"><span class="pre">\mathtt{var}</span></tt>:</p>
<div class="highlight-python"><pre>We square the input parameter `alpha` to obtain
:math:`\mathtt{alpha}^2`.</pre>
</div>
<p>Note that LaTeX is not particularly easy to read, so use equations
sparingly.</p>
<p>Images are allowed, but should not be central to the explanation; users
viewing the docstring as text must be able to comprehend its meaning
without resorting to an image viewer. These additional illustrations are
included using:</p>
<div class="highlight-python"><pre>.. image:: filename</pre>
</div>
<p>where filename is a path relative to the reference guide source directory.</p>
</li>
<li><p class="first"><strong>References</strong></p>
</li>
</ol>
<blockquote>
<div><p>References cited in the <strong>notes</strong> section may be listed here,
e.g. if you cited the article below using the text <tt class="docutils literal"><span class="pre">[1]_</span></tt>,
include it as in the list as follows:</p>
<div class="highlight-python"><pre>.. [1] O. McNoleg, "The integration of GIS, remote sensing,
   expert systems and adaptive co-kriging for environmental habitat
   modelling of the Highland Haggis using object-oriented, fuzzy-logic
   and neural-network techniques," Computers &amp; Geosciences, vol. 22,
   pp. 585-588, 1996.</pre>
</div>
<p>which renders as</p>
<table class="docutils footnote" frame="void" id="id1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td>O. McNoleg, &#8220;The integration of GIS, remote sensing,
expert systems and adaptive co-kriging for environmental habitat
modelling of the Highland Haggis using object-oriented, fuzzy-logic
and neural-network techniques,&#8221; Computers &amp; Geosciences, vol. 22,
pp. 585-588, 1996.</td></tr>
</tbody>
</table>
<p>Referencing sources of a temporary nature, like web pages, is discouraged.
References are meant to augment the docstring, but should not be required
to understand it. References are numbered, starting from one, in the order
in which they are cited.</p>
</div></blockquote>
<ol class="arabic simple" start="11">
<li><strong>Examples</strong></li>
</ol>
<blockquote>
<div><p>An optional section for examples, using the <a class="reference external" href="http://docs.python.org/library/doctest.html">doctest</a> format. This section
is meant to illustrate usage, not to provide a testing framework &#8211; for
that, use the <tt class="docutils literal"><span class="pre">tests/</span></tt> directory. While optional, this section is very
strongly encouraged.</p>
<p>When multiple examples are provided, they should be separated by blank
lines. Comments explaining the examples should have blank lines both above
and below them:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">astropy</span><span class="o">.</span><span class="n">wcs</span><span class="o">.</span><span class="n">sky2pix</span><span class="p">(</span><span class="mf">233.2</span><span class="p">,</span> <span class="o">-</span><span class="mf">12.3</span><span class="p">)</span>
<span class="go">(134.5, 233.1)</span>

<span class="go">Comment explaining the second example</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">astropy</span><span class="o">.</span><span class="n">coords</span><span class="o">.</span><span class="n">fk5_to_gal</span><span class="p">(</span><span class="s">&quot;00:42:44.33 +41:16:07.5&quot;</span><span class="p">)</span>
<span class="go">(121.1743, -21.5733)</span>
</pre></div>
</div>
<p>For tests with a result that is random or platform-dependent, mark the
output as such:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">astropy</span><span class="o">.</span><span class="n">coords</span><span class="o">.</span><span class="n">randomize_position</span><span class="p">(</span><span class="mf">244.9</span><span class="p">,</span> <span class="mf">44.2</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="go">(244.855, 44.13)  #random</span>
</pre></div>
</div>
<p>You can run examples using:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">astropy</span><span class="o">.</span><span class="n">test</span><span class="p">(</span><span class="n">doctests</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>It is not necessary to use the doctest markup <tt class="docutils literal"><span class="pre">&lt;BLANKLINE&gt;</span></tt> to indicate
empty lines in the output. Note that the option to run the examples through
<tt class="docutils literal"><span class="pre">numpy.test</span></tt> is provided for checking if the examples work, not for
making the examples part of the testing framework.</p>
<p>The examples may assume that <tt class="docutils literal"><span class="pre">import</span> <span class="pre">numpy</span> <span class="pre">as</span> <span class="pre">np</span></tt> is executed before the
example code Additional examples may make use of <em>matplotlib</em>
for plotting, but should import it explicitly, e.g., <tt class="docutils literal"><span class="pre">import</span>
<span class="pre">matplotlib.pyplot</span> <span class="pre">as</span> <span class="pre">plt</span></tt>.</p>
</div></blockquote>
</div>
<div class="section" id="documenting-classes">
<h3>Documenting classes<a class="headerlink" href="#documenting-classes" title="Permalink to this headline">¶</a></h3>
<div class="section" id="class-docstrings">
<h4>Class docstrings<a class="headerlink" href="#class-docstrings" title="Permalink to this headline">¶</a></h4>
<p>Use the same sections as outlined above (all except <tt class="docutils literal"><span class="pre">Returns</span></tt> are
applicable). The constructor (<tt class="docutils literal"><span class="pre">__init__</span></tt>) should also be documented here,
the <strong>parameters</strong> section of the docstring details the constructors
parameters.</p>
<p>An <tt class="docutils literal"><span class="pre">Attributes</span></tt> section, located below the <strong>parameters</strong> section, may be
used to describe class variables:</p>
<div class="highlight-python"><pre>Attributes
----------
x : float
    The X coordinate.
y : float
    The Y coordinate.</pre>
</div>
<p>Attributes that are properties and have their own docstrings can be simply
listed by name:</p>
<div class="highlight-python"><pre>Attributes
----------
real
imag
x : float
    The X coordinate
y : float
    The Y coordinate</pre>
</div>
<p>In general, it is not necessary to list class methods. Those that are not part
of the public API have names that start with an underscore. In some cases,
however, a class may have a great many methods, of which only a few are
relevant (e.g., subclasses of ndarray). Then, it becomes useful to have an
additional <tt class="docutils literal"><span class="pre">Methods</span></tt> section:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Table</span><span class="p">(</span><span class="n">ndarray</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A class to represent tables of data</span>

<span class="sd">    ...</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    columns : list</span>
<span class="sd">        List of columns</span>

<span class="sd">    Methods</span>
<span class="sd">    -------</span>
<span class="sd">    read(filename)</span>
<span class="sd">        Read a table from a file</span>
<span class="sd">    sort(column, order=&#39;ascending&#39;)</span>
<span class="sd">        Sort by `column`</span>
<span class="sd">    &quot;&quot;&quot;</span>
</pre></div>
</div>
<p>If it is necessary to explain a private method (use with care!), it can be
referred to in the <strong>extended summary</strong> or the <strong>notes</strong>. Do not list private
methods in the Methods section.</p>
<p>Note that <tt class="docutils literal"><span class="pre">self</span></tt> is <em>not</em> listed as the first parameter of methods.</p>
</div>
<div class="section" id="method-docstrings">
<h4>Method docstrings<a class="headerlink" href="#method-docstrings" title="Permalink to this headline">¶</a></h4>
<p>Document these as you would any other function. Do not include <tt class="docutils literal"><span class="pre">self</span></tt> in the
list of parameters. If a method has an equivalent function (which is the case
for many ndarray methods for example), the function docstring should contain
the detailed documentation, and the method docstring should refer to it. Only
put brief summary and See Also sections in the method docstring.</p>
</div>
</div>
<div class="section" id="documenting-class-instances">
<h3>Documenting class instances<a class="headerlink" href="#documenting-class-instances" title="Permalink to this headline">¶</a></h3>
<p>Instances of classes that are part of the Astropy API may require some care.
To give these instances a useful docstring, we do the following:</p>
<ul class="simple">
<li>Single instance: If only a single instance of a class is exposed, document
the class. Examples can use the instance name.</li>
<li>Multiple instances: If multiple instances are exposed, docstrings for each
instance are written and assigned to the instances&#8217; <tt class="docutils literal"><span class="pre">__doc__</span></tt> attributes
at run time. The class is documented as usual, and the exposed instances can
be mentioned in the Notes and See Also sections.</li>
</ul>
</div>
<div class="section" id="documenting-constants">
<h3>Documenting constants<a class="headerlink" href="#documenting-constants" title="Permalink to this headline">¶</a></h3>
<p>Use the same sections as outlined for functions where applicable:</p>
<div class="highlight-python"><pre>1. summary
2. extended summary (optional)
3. see also (optional)
4. references (optional)
5. examples (optional)</pre>
</div>
<p>Docstrings for constants will not be visible in text terminals
(constants are of immutable type, so docstrings can not be assigned
to them like for for class instances), but will appear in the
documentation built with Sphinx.</p>
</div>
<div class="section" id="documenting-modules">
<h3>Documenting modules<a class="headerlink" href="#documenting-modules" title="Permalink to this headline">¶</a></h3>
<p>Each module should have a docstring with at least a summary line. Other
sections are optional, and should be used in the same order as for documenting
functions when they are appropriate:</p>
<div class="highlight-python"><pre>1. summary
2. extended summary
3. routine listings
4. see also
5. notes
6. references
7. examples</pre>
</div>
<p>Routine listings are encouraged, especially for large modules, for which it is
hard to get a good overview of all functionality provided by looking at the
source file(s) or the __all__ dict.</p>
<p>Note that license and author info, while often included in source files, do not
belong in docstrings.</p>
</div>
<div class="section" id="other-points-to-keep-in-mind">
<h3>Other points to keep in mind<a class="headerlink" href="#other-points-to-keep-in-mind" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Notes and Warnings : If there are points in the docstring that deserve
special emphasis, the reST directives for a note or warning can be used
in the vicinity of the context of the warning (inside a section). Syntax:</p>
<div class="highlight-python"><pre>.. warning:: Warning text.

.. note:: Note text.</pre>
</div>
<p>Use these sparingly, as they do not look very good in text terminals
and are not often necessary. One situation in which a warning can
be useful is for marking a known bug that is not yet fixed.</p>
</li>
<li><p class="first">Questions and Answers : For general questions on how to write docstrings
that are not answered in this document, refer to
<a class="reference external" href="http://docs.scipy.org/numpy/Questions+Answers/">http://docs.scipy.org/numpy/Questions+Answers/</a>.</p>
</li>
<li><p class="first">array_like : For functions that take arguments which can have not only
a type <tt class="xref py py-obj docutils literal"><span class="pre">ndarray</span></tt>, but also types that can be converted to an ndarray
(i.e. scalar types, sequence types), those arguments can be documented
with type <tt class="xref py py-obj docutils literal"><span class="pre">array_like</span></tt>.</p>
</li>
</ul>
</div>
<div class="section" id="common-rest-concepts">
<h3>Common reST concepts<a class="headerlink" href="#common-rest-concepts" title="Permalink to this headline">¶</a></h3>
<p>For paragraphs, indentation is significant and indicates indentation in the
output. New paragraphs are marked with a blank line.</p>
<p>Use <em>italics</em>, <strong>bold</strong>, and <tt class="docutils literal"><span class="pre">courier</span></tt> if needed in any explanations (but
not for variable names and doctest code or multi-line code). Variable, module
and class names should be written between single back-ticks (<tt class="docutils literal"><span class="pre">`astropy`</span></tt>).</p>
<p>A more extensive example of reST markup can be found in <a class="reference external" href="http://docutils.sourceforge.net/docs/user/rst/demo.txt">this example document</a>; the <a class="reference external" href="http://docutils.sourceforge.net/docs/user/rst/quickref.html">quick
reference</a> is
useful while editing.</p>
<p>Line spacing and indentation are significant and should be carefully followed.</p>
</div>
<div class="section" id="conclusion">
<h3>Conclusion<a class="headerlink" href="#conclusion" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://github.com/numpy/numpy/blob/master/doc/example.py">An example</a> of the
format shown here is available.  Refer to <a class="reference external" href="https://github.com/numpy/numpy/blob/master/doc/HOWTO_BUILD_DOCS.rst.txt">How to Build API/Reference
Documentation</a>
on how to use <a class="reference external" href="http://sphinx.pocoo.org">Sphinx</a> to build the manual.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/astropylogo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Documentation Guidelines (Draft)</a><ul>
<li><a class="reference internal" href="#astropy-documentation-rules-and-recommendations">Astropy Documentation Rules and Recommendations</a></li>
<li><a class="reference internal" href="#numpy-scipy-docstring-rules">NumPy/SciPy Docstring Rules</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#docstring-standard">Docstring Standard</a></li>
<li><a class="reference internal" href="#sections">Sections</a></li>
<li><a class="reference internal" href="#documenting-classes">Documenting classes</a><ul>
<li><a class="reference internal" href="#class-docstrings">Class docstrings</a></li>
<li><a class="reference internal" href="#method-docstrings">Method docstrings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#documenting-class-instances">Documenting class instances</a></li>
<li><a class="reference internal" href="#documenting-constants">Documenting constants</a></li>
<li><a class="reference internal" href="#documenting-modules">Documenting modules</a></li>
<li><a class="reference internal" href="#other-points-to-keep-in-mind">Other points to keep in mind</a></li>
<li><a class="reference internal" href="#common-rest-concepts">Common reST concepts</a></li>
<li><a class="reference internal" href="#conclusion">Conclusion</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="codeguide_emacs.html"
                        title="previous chapter">Emacs setup for following coding guidelines</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="testguide.html"
                        title="next chapter">Testing Guidelines (Draft)</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/development/docguide.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="testguide.html" title="Testing Guidelines (Draft)"
             >next</a> |</li>
        <li class="right" >
          <a href="codeguide_emacs.html" title="Emacs setup for following coding guidelines"
             >previous</a> |</li>
        <li><a href="../index.html">Astropy 0.0.dev664 documentation</a> &raquo;</li>
          <li><a href="index.html" >Documentation for Developers</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, The Astropy Team, Erik Tollerud, Thomas Robitaille, and Perry Greenfield.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>